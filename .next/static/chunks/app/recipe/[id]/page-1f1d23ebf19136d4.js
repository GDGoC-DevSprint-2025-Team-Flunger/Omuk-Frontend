(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{3065:(e,s,l)=>{Promise.resolve().then(l.bind(l,850))},850:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>o});var t=l(5155),i=l(2115),c=l(6046),n=l(2651),a=l(9757),r=l(5055),d=l(1536);l(7414);let o=()=>{var e,s,l,o;let h=Number((0,c.useParams)().id),[x,j]=(0,i.useState)(null),[m,u]=(0,i.useState)(!0),[p,g]=(0,i.useState)(""),[v,f]=(0,i.useState)(null),[N,b]=(0,i.useState)(!1),[y,k]=(0,i.useState)(!1),[D,S]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{let e=await n.A.get("http://3.38.114.206:8080/recipe/".concat(h));j(e.data)}catch(e){console.error("❌ 레시피 불러오기 실패:",e),g("레시피 데이터를 불러오지 못했습니다.")}finally{u(!1)}})()},[h]),(0,i.useEffect)(()=>{(async()=>{try{let e=(await n.A.get("http://3.38.114.206:8080/recipe/favorites/".concat(1))).data.some(e=>e.recipeId===h);b(e)}catch(e){console.error("❌ 즐겨찾기 목록 불러오기 실패:",e)}})()},[h]),(0,i.useEffect)(()=>{let e=async()=>{try{let e=await n.A.get("http://3.38.114.206:8080/recipe/".concat(h));f(e.data)}catch(e){console.error("❌ 추천 정보 불러오기 실패:",e)}};h&&e()},[h]),(0,i.useEffect)(()=>{if(x){let e=JSON.parse(localStorage.getItem("recentRecipes")||"[]").filter(e=>e.id!==x.recipeId),s=[{id:x.recipeId,image:x.imageUrl,name:x.title,link:"/recipe/".concat(x.recipeId)},...e];localStorage.setItem("recentRecipes",JSON.stringify(s.slice(0,20)))}},[x]);let C=async()=>{if(!N)try{let e=await n.A.post("http://3.38.114.206:8080/recipe/favorites?memberId=".concat(1,"&recipeId=").concat(h),{},{headers:{"Content-Type":"application/json"}});200===e.status&&b(!0)}catch(e){console.error("❌ 즐겨찾기 추가 실패:",e)}};return m?(0,t.jsx)("p",{children:"로딩 중..."}):p?(0,t.jsx)("p",{children:p}):x?(0,t.jsx)("div",{className:"App",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex-35 p-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold center",children:x.title}),(0,t.jsx)("div",{className:"food-image",children:(0,t.jsx)("img",{src:x.imageUrl,className:"w-full h-auto rounded-lg"})}),(0,t.jsxs)("div",{className:"buttons",children:[(0,t.jsx)("button",{className:"btn-youtube mr-2",onClick:()=>window.open(x.videoUrl,"_blank"),children:(0,t.jsx)(d.Vk6,{className:"youtube-icon",size:40})}),(0,t.jsx)("button",{className:"btn-favorite",onClick:C,children:(0,t.jsx)(a.g,{icon:r.yy,className:"favorite-icon ".concat(N?"filled":"")})})]}),(0,t.jsxs)("div",{className:"time",children:[(0,t.jsx)("strong",{children:"⏳ 소요 시간:"})," ",x.cookTime,"분"]}),(0,t.jsxs)("div",{className:"difficulty",children:[(0,t.jsx)("strong",{children:"\uD83D\uDD25 난이도:"})," ","★".repeat(x.difficulty)]}),(0,t.jsxs)("div",{className:"point",children:[(0,t.jsx)("strong",{children:"⭐ 별점:"})," ",x.averageRating," / 5"]}),(0,t.jsxs)("div",{className:"type",children:[(0,t.jsx)("strong",{children:"식사 분류"}),(0,t.jsx)("button",{className:"btn-modal",onClick:()=>k(!y),children:"?"}),y&&(0,t.jsx)("div",{className:"modal",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("h3",{children:"식사 유형 정보"}),(0,t.jsxs)("table",{className:"modal-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"항목"}),(0,t.jsx)("th",{children:"정보"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"식사 시간"})}),(0,t.jsx)("td",{children:(null==v?void 0:null===(e=v.mealTimes)||void 0===e?void 0:e.length)?v.mealTimes.join(", "):"정보 없음"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"식사 종류"})}),(0,t.jsx)("td",{children:(null==v?void 0:null===(s=v.tasteTags)||void 0===s?void 0:s.length)?v.tasteTags.join(", "):"정보 없음"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"계절"})}),(0,t.jsx)("td",{children:(null==v?void 0:null===(l=v.seasons)||void 0===l?void 0:l.length)?v.seasons.join(", "):"정보 없음"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"알레르기 성분"})}),(0,t.jsx)("td",{children:(null==v?void 0:null===(o=v.excludeAllergies)||void 0===o?void 0:o.length)?v.excludeAllergies.join(", "):"정보 없음"})]})]})]})]})})]})]}),(0,t.jsxs)("div",{className:"flex-65 bg-green-200 p-4",children:[(0,t.jsx)("h2",{className:"table-title",children:"\uD83D\uDCCC 재료 목록"}),(0,t.jsx)("p",{children:x.ingredients.join(", ")}),(0,t.jsx)("h2",{className:"table-title",children:"\uD83D\uDCDD 조리 과정"}),(0,t.jsx)("div",{className:"cooking-process",children:x.steps.map((e,s)=>(0,t.jsx)("div",{className:"step",children:(0,t.jsx)("div",{className:"step-description",children:(0,t.jsxs)("strong",{children:[s+1,". ",e]})})},s))})]})]})}):(0,t.jsx)("p",{children:"레시피가 없습니다."})}},7414:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[391,711,266,238,527,441,517,358],()=>s(3065)),_N_E=e.O()}]);